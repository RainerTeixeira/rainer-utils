{"version":3,"sources":["../../src/authentication/index.ts"],"names":[],"mappings":";AAWA,IAAM,SAAA,GAAY,YAAA;AAClB,IAAM,iBAAA,GAAoB,eAAA;AAenB,IAAM,WAAW,MAAqB;AAC3C,EAAA,IAAI,OAAO,WAAW,WAAA,EAAa;AACjC,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,OAAO,YAAA,CAAa,QAAQ,SAAS,CAAA;AACvC;AAYO,IAAM,QAAA,GAAW,CAAC,KAAA,KAAwB;AAC/C,EAAA,IAAI,OAAO,WAAW,WAAA,EAAa;AACjC,IAAA;AAAA,EACF;AAEA,EAAA,YAAA,CAAa,OAAA,CAAQ,WAAW,KAAK,CAAA;AACvC;AAYO,IAAM,kBAAkB,MAAqB;AAClD,EAAA,IAAI,OAAO,WAAW,WAAA,EAAa;AACjC,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,OAAO,YAAA,CAAa,QAAQ,iBAAiB,CAAA;AAC/C;AAYO,IAAM,eAAA,GAAkB,CAAC,YAAA,KAA+B;AAC7D,EAAA,IAAI,OAAO,WAAW,WAAA,EAAa;AACjC,IAAA;AAAA,EACF;AAEA,EAAA,YAAA,CAAa,OAAA,CAAQ,mBAAmB,YAAY,CAAA;AACtD;AAWO,IAAM,cAAc,MAAY;AACrC,EAAA,IAAI,OAAO,WAAW,WAAA,EAAa;AACjC,IAAA;AAAA,EACF;AAEA,EAAA,YAAA,CAAa,WAAW,SAAS,CAAA;AACjC,EAAA,YAAA,CAAa,WAAW,iBAAiB,CAAA;AAC3C;AAcO,IAAM,WAAW,MAAe;AACrC,EAAA,OAAO,CAAC,CAAC,QAAA,EAAS;AACpB;AAYO,IAAM,YAAY,MAGpB;AACH,EAAA,OAAO;AAAA,IACL,aAAa,QAAA,EAAS;AAAA,IACtB,cAAc,eAAA;AAAgB,GAChC;AACF;AAgBO,IAAM,YAAY,CAAC;AAAA,EACxB,WAAA;AAAA,EACA;AACF,CAAA,KAGY;AACV,EAAA,QAAA,CAAS,WAAW,CAAA;AACpB,EAAA,eAAA,CAAgB,YAAY,CAAA;AAC9B","file":"index.mjs","sourcesContent":["/**\r\n * Auth Utilities\r\n *\r\n * Utilitários para gerenciamento de tokens de autenticação.\r\n * Funções para armazenar, recuperar e remover tokens JWT do localStorage.\r\n *\r\n * @module @rainersoft/utils/auth\r\n * @author Rainer Teixeira\r\n * @version 1.0.0\r\n */\r\n\r\nconst TOKEN_KEY = 'auth_token';\r\nconst REFRESH_TOKEN_KEY = 'refresh_token';\r\n\r\n/**\r\n * Obtém o token de acesso armazenado\r\n * \r\n * @returns string | null - Token JWT ou null se não encontrado\r\n * \r\n * @example\r\n * ```ts\r\n * const token = getToken();\r\n * if (token) {\r\n *   // Usar token na requisição\r\n * }\r\n * ```\r\n */\r\nexport const getToken = (): string | null => {\r\n  if (typeof window === 'undefined') {\r\n    return null;\r\n  }\r\n  \r\n  return localStorage.getItem(TOKEN_KEY);\r\n};\r\n\r\n/**\r\n * Define o token de acesso\r\n * \r\n * @param token - Token JWT a ser armazenado\r\n * \r\n * @example\r\n * ```ts\r\n * setToken('eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...');\r\n * ```\r\n */\r\nexport const setToken = (token: string): void => {\r\n  if (typeof window === 'undefined') {\r\n    return;\r\n  }\r\n  \r\n  localStorage.setItem(TOKEN_KEY, token);\r\n};\r\n\r\n/**\r\n * Obtém o refresh token armazenado\r\n * \r\n * @returns string | null - Refresh token ou null se não encontrado\r\n * \r\n * @example\r\n * ```ts\r\n * const refreshToken = getRefreshToken();\r\n * ```\r\n */\r\nexport const getRefreshToken = (): string | null => {\r\n  if (typeof window === 'undefined') {\r\n    return null;\r\n  }\r\n  \r\n  return localStorage.getItem(REFRESH_TOKEN_KEY);\r\n};\r\n\r\n/**\r\n * Define o refresh token\r\n * \r\n * @param refreshToken - Refresh token a ser armazenado\r\n * \r\n * @example\r\n * ```ts\r\n * setRefreshToken('refresh_token_here');\r\n * ```\r\n */\r\nexport const setRefreshToken = (refreshToken: string): void => {\r\n  if (typeof window === 'undefined') {\r\n    return;\r\n  }\r\n  \r\n  localStorage.setItem(REFRESH_TOKEN_KEY, refreshToken);\r\n};\r\n\r\n/**\r\n * Remove todos os tokens armazenados\r\n * \r\n * @example\r\n * ```ts\r\n * // Logout do usuário\r\n * removeToken();\r\n * ```\r\n */\r\nexport const removeToken = (): void => {\r\n  if (typeof window === 'undefined') {\r\n    return;\r\n  }\r\n  \r\n  localStorage.removeItem(TOKEN_KEY);\r\n  localStorage.removeItem(REFRESH_TOKEN_KEY);\r\n};\r\n\r\n/**\r\n * Verifica se há um token válido armazenado\r\n * \r\n * @returns boolean - True se token existe\r\n * \r\n * @example\r\n * ```ts\r\n * if (hasToken()) {\r\n *   // Usuário autenticado\r\n * }\r\n * ```\r\n */\r\nexport const hasToken = (): boolean => {\r\n  return !!getToken();\r\n};\r\n\r\n/**\r\n * Obtém os tokens como objeto\r\n * \r\n * @returns object - Com accessToken e refreshToken\r\n * \r\n * @example\r\n * ```ts\r\n * const { accessToken, refreshToken } = getTokens();\r\n * ```\r\n */\r\nexport const getTokens = (): {\r\n  accessToken: string | null;\r\n  refreshToken: string | null;\r\n} => {\r\n  return {\r\n    accessToken: getToken(),\r\n    refreshToken: getRefreshToken(),\r\n  };\r\n};\r\n\r\n/**\r\n * Define ambos os tokens de uma vez\r\n * \r\n * @param accessToken - Token de acesso\r\n * @param refreshToken - Token de refresh\r\n * \r\n * @example\r\n * ```ts\r\n * setTokens({\r\n *   accessToken: 'access_token_here',\r\n *   refreshToken: 'refresh_token_here'\r\n * });\r\n * ```\r\n */\r\nexport const setTokens = ({\r\n  accessToken,\r\n  refreshToken,\r\n}: {\r\n  accessToken: string;\r\n  refreshToken: string;\r\n}): void => {\r\n  setToken(accessToken);\r\n  setRefreshToken(refreshToken);\r\n};\r\n"]}