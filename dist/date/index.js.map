{"version":3,"sources":["../../src/types.ts","../../src/date/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * Types & Constants\r\n *\r\n * Tipos e constantes compartilhadas entre módulos.\r\n *\r\n * @module @rainersoft/utils/types\r\n * @author Rainer Teixeira\r\n */\r\n\r\n/**\r\n * Idiomas suportados\r\n */\r\nexport type Locale = 'pt-BR' | 'en-US' | 'es-ES';\r\n\r\n/**\r\n * Configuração de localização\r\n */\r\nexport interface LocaleConfig {\r\n  locale: Locale;\r\n  currency?: string;\r\n  dateFormat?: 'short' | 'long' | 'full';\r\n}\r\n\r\n/**\r\n * Locale padrão\r\n */\r\nexport const DEFAULT_LOCALE: Locale = 'pt-BR';\r\n\r\n/**\r\n * Mapeamento de moedas por locale\r\n */\r\nexport const CURRENCY_MAP: Record<Locale, string> = {\r\n  'pt-BR': 'BRL',\r\n  'en-US': 'USD',\r\n  'es-ES': 'EUR',\r\n} as const;\r\n","/**\r\n * Date Utilities\r\n *\r\n * Utilitários para formatação e manipulação de datas.\r\n * Suporte para múltiplos idiomas: pt-BR, en-US, es-ES.\r\n *\r\n * @module @rainersoft/utils/date\r\n * @author Rainer Teixeira\r\n */\r\n\r\nimport type { Locale } from '../types';\r\nimport { DEFAULT_LOCALE } from '../types';\r\n\r\n/**\r\n * Textos relativos por idioma\r\n */\r\nconst RELATIVE_TEXTS = {\r\n  'pt-BR': {\r\n    now: 'agora',\r\n    minute: (n: number) => `há ${n} ${n === 1 ? 'minuto' : 'minutos'}`,\r\n    hour: (n: number) => `há ${n} ${n === 1 ? 'hora' : 'horas'}`,\r\n    day: (n: number) => `há ${n} ${n === 1 ? 'dia' : 'dias'}`,\r\n    month: (n: number) => `há ${n} ${n === 1 ? 'mês' : 'meses'}`,\r\n    year: (n: number) => `há ${n} ${n === 1 ? 'ano' : 'anos'}`,\r\n  },\r\n  'en-US': {\r\n    now: 'now',\r\n    minute: (n: number) => `${n} ${n === 1 ? 'minute' : 'minutes'} ago`,\r\n    hour: (n: number) => `${n} ${n === 1 ? 'hour' : 'hours'} ago`,\r\n    day: (n: number) => `${n} ${n === 1 ? 'day' : 'days'} ago`,\r\n    month: (n: number) => `${n} ${n === 1 ? 'month' : 'months'} ago`,\r\n    year: (n: number) => `${n} ${n === 1 ? 'year' : 'years'} ago`,\r\n  },\r\n  'es-ES': {\r\n    now: 'ahora',\r\n    minute: (n: number) => `hace ${n} ${n === 1 ? 'minuto' : 'minutos'}`,\r\n    hour: (n: number) => `hace ${n} ${n === 1 ? 'hora' : 'horas'}`,\r\n    day: (n: number) => `hace ${n} ${n === 1 ? 'día' : 'días'}`,\r\n    month: (n: number) => `hace ${n} ${n === 1 ? 'mes' : 'meses'}`,\r\n    year: (n: number) => `hace ${n} ${n === 1 ? 'año' : 'años'}`,\r\n  },\r\n} as const;\r\n\r\n/**\r\n * Formata data com suporte a múltiplos idiomas\r\n *\r\n * @param date - Data (string ISO ou Date)\r\n * @param format - Formato ('short' | 'long' | 'full')\r\n * @param locale - Idioma (padrão: 'pt-BR')\r\n * @returns Data formatada\r\n *\r\n * @example\r\n * formatDate('2025-11-26') // '26 de novembro de 2025' (pt-BR)\r\n * formatDate('2025-11-26', 'short') // '26/11/2025'\r\n * formatDate('2025-11-26', 'long', 'en-US') // 'November 26, 2025'\r\n * formatDate('2025-11-26', 'long', 'es-ES') // '26 de noviembre de 2025'\r\n */\r\nexport function formatDate(\r\n  date: string | Date,\r\n  format: 'short' | 'long' | 'full' = 'long',\r\n  locale: Locale = DEFAULT_LOCALE\r\n): string {\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  \r\n  // Usar Intl.DateTimeFormat para suporte multi-idioma\r\n  const options: Intl.DateTimeFormatOptions = {\r\n    day: 'numeric',\r\n    month: format === 'short' ? '2-digit' : 'long',\r\n    year: 'numeric',\r\n    ...(format === 'full' && { weekday: 'long' }),\r\n  };\r\n\r\n  if (format === 'short') {\r\n    return d.toLocaleDateString(locale, { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n  }\r\n\r\n  return d.toLocaleDateString(locale, options);\r\n}\r\n\r\n/**\r\n * Formata data e hora com suporte a múltiplos idiomas\r\n *\r\n * @param date - Data (string ISO ou Date)\r\n * @param locale - Idioma (padrão: 'pt-BR')\r\n * @returns Data e hora formatadas\r\n *\r\n * @example\r\n * formatDateTime('2025-11-26T14:30:00') // '26 de novembro de 2025, 14:30' (pt-BR)\r\n * formatDateTime('2025-11-26T14:30:00', 'en-US') // 'November 26, 2025, 2:30 PM'\r\n */\r\nexport function formatDateTime(date: string | Date, locale: Locale = DEFAULT_LOCALE): string {\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  \r\n  return d.toLocaleString(locale, {\r\n    day: 'numeric',\r\n    month: 'long',\r\n    year: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  });\r\n}\r\n\r\n/**\r\n * Formata data relativa (há X dias/horas) com suporte a idiomas\r\n *\r\n * @param date - Data (string ISO ou Date)\r\n * @param locale - Idioma (padrão: 'pt-BR')\r\n * @returns Texto relativo\r\n *\r\n * @example\r\n * formatRelativeDate(new Date()) // 'agora' (pt-BR)\r\n * formatRelativeDate(yesterday, 'en-US') // '1 day ago'\r\n * formatRelativeDate(yesterday, 'es-ES') // 'hace 1 día'\r\n */\r\nexport function formatRelativeDate(date: string | Date, locale: Locale = DEFAULT_LOCALE): string {\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n\r\n  // Proteger contra datas inválidas (evita 'há NaN anos')\r\n  if (!(d instanceof Date) || Number.isNaN(d.getTime())) {\r\n    return '';\r\n  }\r\n  const now = new Date();\r\n  const diffMs = now.getTime() - d.getTime();\r\n  const diffSec = Math.floor(diffMs / 1000);\r\n  const diffMin = Math.floor(diffSec / 60);\r\n  const diffHour = Math.floor(diffMin / 60);\r\n  const diffDay = Math.floor(diffHour / 24);\r\n  // Usar média de dias por mês mais próxima da realidade para não arredondar cedo demais para 1 ano\r\n  const diffMonth = Math.floor(diffDay / 30.4375); // 365 / 12\r\n  const diffYear = Math.floor(diffDay / 365);\r\n\r\n  const texts = RELATIVE_TEXTS[locale];\r\n\r\n  // Regras especiais por idioma (mais naturais)\r\n  if (diffSec < 10) {\r\n    if (locale === 'pt-BR') return 'agora mesmo';\r\n    if (locale === 'en-US') return 'just now';\r\n    if (locale === 'es-ES') return 'ahora mismo';\r\n  }\r\n\r\n  if (diffSec < 60) return texts.now;\r\n  if (diffMin < 60) return texts.minute(diffMin);\r\n  if (diffHour < 24) return texts.hour(diffHour);\r\n\r\n  // Dias específicos\r\n  if (diffDay === 1) {\r\n    if (locale === 'pt-BR') return 'ontem';\r\n    if (locale === 'en-US') return 'yesterday';\r\n    if (locale === 'es-ES') return 'ayer';\r\n  }\r\n\r\n  if (diffDay === 2) {\r\n    if (locale === 'pt-BR') return 'anteontem';\r\n    if (locale === 'en-US') return 'the day before yesterday';\r\n    if (locale === 'es-ES') return 'anteayer';\r\n  }\r\n\r\n  if (diffDay < 30) return texts.day(diffDay);\r\n  if (diffMonth < 12) return texts.month(diffMonth);\r\n  return texts.year(diffYear);\r\n}\r\n\r\n/**\r\n * Converte data para ISO string\r\n *\r\n * @param date - Data\r\n * @returns String ISO\r\n */\r\nexport function toISOString(date: Date): string {\r\n  return date.toISOString();\r\n}\r\n\r\n/**\r\n * Verifica se data é válida\r\n *\r\n * @param date - Data para validar\r\n * @returns true se válida\r\n */\r\nexport function isValidDate(date: unknown): date is Date {\r\n  return date instanceof Date && !isNaN(date.getTime());\r\n}\r\n"]}