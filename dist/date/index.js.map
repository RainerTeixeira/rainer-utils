{"version":3,"sources":["../../src/types.ts","../../src/date/index.ts"],"names":[],"mappings":";;;AA0BO,IAAM,cAAA,GAAyB,OAAA;;;ACVtC,IAAM,cAAA,GAAiB;AAAA,EACrB,OAAA,EAAS;AAAA,IACP,GAAA,EAAK,OAAA;AAAA,IACL,MAAA,EAAQ,CAAC,CAAA,KAAc,CAAA,MAAA,EAAM,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,QAAA,GAAW,SAAS,CAAA,CAAA;AAAA,IAChE,IAAA,EAAM,CAAC,CAAA,KAAc,CAAA,MAAA,EAAM,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,MAAA,GAAS,OAAO,CAAA,CAAA;AAAA,IAC1D,GAAA,EAAK,CAAC,CAAA,KAAc,CAAA,MAAA,EAAM,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,KAAA,GAAQ,MAAM,CAAA,CAAA;AAAA,IACvD,KAAA,EAAO,CAAC,CAAA,KAAc,CAAA,MAAA,EAAM,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,QAAA,GAAQ,OAAO,CAAA,CAAA;AAAA,IAC1D,IAAA,EAAM,CAAC,CAAA,KAAc,CAAA,MAAA,EAAM,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,KAAA,GAAQ,MAAM,CAAA;AAAA,GAC1D;AAAA,EACA,OAAA,EAAS;AAAA,IACP,GAAA,EAAK,KAAA;AAAA,IACL,MAAA,EAAQ,CAAC,CAAA,KAAc,CAAA,EAAG,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,QAAA,GAAW,SAAS,CAAA,IAAA,CAAA;AAAA,IAC7D,IAAA,EAAM,CAAC,CAAA,KAAc,CAAA,EAAG,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,MAAA,GAAS,OAAO,CAAA,IAAA,CAAA;AAAA,IACvD,GAAA,EAAK,CAAC,CAAA,KAAc,CAAA,EAAG,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,KAAA,GAAQ,MAAM,CAAA,IAAA,CAAA;AAAA,IACpD,KAAA,EAAO,CAAC,CAAA,KAAc,CAAA,EAAG,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,OAAA,GAAU,QAAQ,CAAA,IAAA,CAAA;AAAA,IAC1D,IAAA,EAAM,CAAC,CAAA,KAAc,CAAA,EAAG,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,MAAA,GAAS,OAAO,CAAA,IAAA;AAAA,GACzD;AAAA,EACA,OAAA,EAAS;AAAA,IACP,GAAA,EAAK,OAAA;AAAA,IACL,MAAA,EAAQ,CAAC,CAAA,KAAc,CAAA,KAAA,EAAQ,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,QAAA,GAAW,SAAS,CAAA,CAAA;AAAA,IAClE,IAAA,EAAM,CAAC,CAAA,KAAc,CAAA,KAAA,EAAQ,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,MAAA,GAAS,OAAO,CAAA,CAAA;AAAA,IAC5D,GAAA,EAAK,CAAC,CAAA,KAAc,CAAA,KAAA,EAAQ,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,QAAA,GAAQ,SAAM,CAAA,CAAA;AAAA,IACzD,KAAA,EAAO,CAAC,CAAA,KAAc,CAAA,KAAA,EAAQ,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,KAAA,GAAQ,OAAO,CAAA,CAAA;AAAA,IAC5D,IAAA,EAAM,CAAC,CAAA,KAAc,CAAA,KAAA,EAAQ,CAAC,CAAA,CAAA,EAAI,CAAA,KAAM,CAAA,GAAI,QAAA,GAAQ,SAAM,CAAA;AAAA;AAE9D,CAAA;AAgBO,SAAS,UAAA,CACd,IAAA,EACA,MAAA,GAAoC,MAAA,EACpC,SAAiB,cAAA,EACT;AACR,EAAA,MAAM,IAAI,OAAO,IAAA,KAAS,WAAW,IAAI,IAAA,CAAK,IAAI,CAAA,GAAI,IAAA;AAGtD,EAAA,MAAM,OAAA,GAAsC;AAAA,IAC1C,GAAA,EAAK,SAAA;AAAA,IACL,KAAA,EAAO,MAAA,KAAW,OAAA,GAAU,SAAA,GAAY,MAAA;AAAA,IACxC,IAAA,EAAM,SAAA;AAAA,IACN,GAAI,MAAA,KAAW,MAAA,IAAU,EAAE,SAAS,MAAA;AAAO,GAC7C;AAEA,EAAA,IAAI,WAAW,OAAA,EAAS;AACtB,IAAA,OAAO,CAAA,CAAE,kBAAA,CAAmB,MAAA,EAAQ,EAAE,GAAA,EAAK,WAAW,KAAA,EAAO,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,EAC3F;AAEA,EAAA,OAAO,CAAA,CAAE,kBAAA,CAAmB,MAAA,EAAQ,OAAO,CAAA;AAC7C;AAaO,SAAS,cAAA,CAAe,IAAA,EAAqB,MAAA,GAAiB,cAAA,EAAwB;AAC3F,EAAA,MAAM,IAAI,OAAO,IAAA,KAAS,WAAW,IAAI,IAAA,CAAK,IAAI,CAAA,GAAI,IAAA;AAEtD,EAAA,OAAO,CAAA,CAAE,eAAe,MAAA,EAAQ;AAAA,IAC9B,GAAA,EAAK,SAAA;AAAA,IACL,KAAA,EAAO,MAAA;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,IAAA,EAAM,SAAA;AAAA,IACN,MAAA,EAAQ;AAAA,GACT,CAAA;AACH;AAcO,SAAS,kBAAA,CAAmB,IAAA,EAAqB,MAAA,GAAiB,cAAA,EAAwB;AAC/F,EAAA,MAAM,IAAI,OAAO,IAAA,KAAS,WAAW,IAAI,IAAA,CAAK,IAAI,CAAA,GAAI,IAAA;AAGtD,EAAA,IAAI,EAAE,aAAa,IAAA,CAAA,IAAS,MAAA,CAAO,MAAM,CAAA,CAAE,OAAA,EAAS,CAAA,EAAG;AACrD,IAAA,OAAO,EAAA;AAAA,EACT;AACA,EAAA,MAAM,GAAA,uBAAU,IAAA,EAAK;AACrB,EAAA,MAAM,MAAA,GAAS,GAAA,CAAI,OAAA,EAAQ,GAAI,EAAE,OAAA,EAAQ;AACzC,EAAA,MAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,MAAA,GAAS,GAAI,CAAA;AACxC,EAAA,MAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,EAAE,CAAA;AACvC,EAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,EAAE,CAAA;AACxC,EAAA,MAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,QAAA,GAAW,EAAE,CAAA;AAExC,EAAA,MAAM,SAAA,GAAY,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,OAAO,CAAA;AAC9C,EAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,GAAG,CAAA;AAEzC,EAAA,MAAM,KAAA,GAAQ,eAAe,MAAM,CAAA;AAGnC,EAAA,IAAI,UAAU,EAAA,EAAI;AAChB,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,aAAA;AAC/B,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,UAAA;AAC/B,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,aAAA;AAAA,EACjC;AAEA,EAAA,IAAI,OAAA,GAAU,EAAA,EAAI,OAAO,KAAA,CAAM,GAAA;AAC/B,EAAA,IAAI,OAAA,GAAU,EAAA,EAAI,OAAO,KAAA,CAAM,OAAO,OAAO,CAAA;AAC7C,EAAA,IAAI,QAAA,GAAW,EAAA,EAAI,OAAO,KAAA,CAAM,KAAK,QAAQ,CAAA;AAG7C,EAAA,IAAI,YAAY,CAAA,EAAG;AACjB,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,OAAA;AAC/B,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,WAAA;AAC/B,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,MAAA;AAAA,EACjC;AAEA,EAAA,IAAI,YAAY,CAAA,EAAG;AACjB,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,WAAA;AAC/B,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,0BAAA;AAC/B,IAAA,IAAI,MAAA,KAAW,SAAS,OAAO,UAAA;AAAA,EACjC;AAEA,EAAA,IAAI,OAAA,GAAU,EAAA,EAAI,OAAO,KAAA,CAAM,IAAI,OAAO,CAAA;AAC1C,EAAA,IAAI,SAAA,GAAY,EAAA,EAAI,OAAO,KAAA,CAAM,MAAM,SAAS,CAAA;AAChD,EAAA,OAAO,KAAA,CAAM,KAAK,QAAQ,CAAA;AAC5B;AAQO,SAAS,YAAY,IAAA,EAAoB;AAC9C,EAAA,OAAO,KAAK,WAAA,EAAY;AAC1B;AAQO,SAAS,YAAY,IAAA,EAA6B;AACvD,EAAA,OAAO,gBAAgB,IAAA,IAAQ,CAAC,KAAA,CAAM,IAAA,CAAK,SAAS,CAAA;AACtD","file":"index.js","sourcesContent":["/**\n * Types & Constants\n *\n * Tipos e constantes compartilhadas entre módulos.\n *\n * @module @rainersoft/utils/types\n * @author Rainer Teixeira\n */\n\n/**\n * Idiomas suportados\n */\nexport type Locale = 'pt-BR' | 'en-US' | 'es-ES';\n\n/**\n * Configuração de localização\n */\nexport interface LocaleConfig {\n  locale: Locale;\n  currency?: string;\n  dateFormat?: 'short' | 'long' | 'full';\n}\n\n/**\n * Locale padrão\n */\nexport const DEFAULT_LOCALE: Locale = 'pt-BR';\n\n/**\n * Mapeamento de moedas por locale\n */\nexport const CURRENCY_MAP: Record<Locale, string> = {\n  'pt-BR': 'BRL',\n  'en-US': 'USD',\n  'es-ES': 'EUR',\n} as const;\n","/**\n * Date Utilities\n *\n * Utilitários para formatação e manipulação de datas.\n * Suporte para múltiplos idiomas: pt-BR, en-US, es-ES.\n *\n * @module @rainersoft/utils/date\n * @author Rainer Teixeira\n */\n\nimport type { Locale } from '../types';\nimport { DEFAULT_LOCALE } from '../types';\n\n/**\n * Textos relativos por idioma\n */\nconst RELATIVE_TEXTS = {\n  'pt-BR': {\n    now: 'agora',\n    minute: (n: number) => `há ${n} ${n === 1 ? 'minuto' : 'minutos'}`,\n    hour: (n: number) => `há ${n} ${n === 1 ? 'hora' : 'horas'}`,\n    day: (n: number) => `há ${n} ${n === 1 ? 'dia' : 'dias'}`,\n    month: (n: number) => `há ${n} ${n === 1 ? 'mês' : 'meses'}`,\n    year: (n: number) => `há ${n} ${n === 1 ? 'ano' : 'anos'}`,\n  },\n  'en-US': {\n    now: 'now',\n    minute: (n: number) => `${n} ${n === 1 ? 'minute' : 'minutes'} ago`,\n    hour: (n: number) => `${n} ${n === 1 ? 'hour' : 'hours'} ago`,\n    day: (n: number) => `${n} ${n === 1 ? 'day' : 'days'} ago`,\n    month: (n: number) => `${n} ${n === 1 ? 'month' : 'months'} ago`,\n    year: (n: number) => `${n} ${n === 1 ? 'year' : 'years'} ago`,\n  },\n  'es-ES': {\n    now: 'ahora',\n    minute: (n: number) => `hace ${n} ${n === 1 ? 'minuto' : 'minutos'}`,\n    hour: (n: number) => `hace ${n} ${n === 1 ? 'hora' : 'horas'}`,\n    day: (n: number) => `hace ${n} ${n === 1 ? 'día' : 'días'}`,\n    month: (n: number) => `hace ${n} ${n === 1 ? 'mes' : 'meses'}`,\n    year: (n: number) => `hace ${n} ${n === 1 ? 'año' : 'años'}`,\n  },\n} as const;\n\n/**\n * Formata data com suporte a múltiplos idiomas\n *\n * @param date - Data (string ISO ou Date)\n * @param format - Formato ('short' | 'long' | 'full')\n * @param locale - Idioma (padrão: 'pt-BR')\n * @returns Data formatada\n *\n * @example\n * formatDate('2025-11-26') // '26 de novembro de 2025' (pt-BR)\n * formatDate('2025-11-26', 'short') // '26/11/2025'\n * formatDate('2025-11-26', 'long', 'en-US') // 'November 26, 2025'\n * formatDate('2025-11-26', 'long', 'es-ES') // '26 de noviembre de 2025'\n */\nexport function formatDate(\n  date: string | Date,\n  format: 'short' | 'long' | 'full' = 'long',\n  locale: Locale = DEFAULT_LOCALE\n): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  // Usar Intl.DateTimeFormat para suporte multi-idioma\n  const options: Intl.DateTimeFormatOptions = {\n    day: 'numeric',\n    month: format === 'short' ? '2-digit' : 'long',\n    year: 'numeric',\n    ...(format === 'full' && { weekday: 'long' }),\n  };\n\n  if (format === 'short') {\n    return d.toLocaleDateString(locale, { day: '2-digit', month: '2-digit', year: 'numeric' });\n  }\n\n  return d.toLocaleDateString(locale, options);\n}\n\n/**\n * Formata data e hora com suporte a múltiplos idiomas\n *\n * @param date - Data (string ISO ou Date)\n * @param locale - Idioma (padrão: 'pt-BR')\n * @returns Data e hora formatadas\n *\n * @example\n * formatDateTime('2025-11-26T14:30:00') // '26 de novembro de 2025, 14:30' (pt-BR)\n * formatDateTime('2025-11-26T14:30:00', 'en-US') // 'November 26, 2025, 2:30 PM'\n */\nexport function formatDateTime(date: string | Date, locale: Locale = DEFAULT_LOCALE): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  return d.toLocaleString(locale, {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\n/**\n * Formata data relativa (há X dias/horas) com suporte a idiomas\n *\n * @param date - Data (string ISO ou Date)\n * @param locale - Idioma (padrão: 'pt-BR')\n * @returns Texto relativo\n *\n * @example\n * formatRelativeDate(new Date()) // 'agora' (pt-BR)\n * formatRelativeDate(yesterday, 'en-US') // '1 day ago'\n * formatRelativeDate(yesterday, 'es-ES') // 'hace 1 día'\n */\nexport function formatRelativeDate(date: string | Date, locale: Locale = DEFAULT_LOCALE): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n\n  // Proteger contra datas inválidas (evita 'há NaN anos')\n  if (!(d instanceof Date) || Number.isNaN(d.getTime())) {\n    return '';\n  }\n  const now = new Date();\n  const diffMs = now.getTime() - d.getTime();\n  const diffSec = Math.floor(diffMs / 1000);\n  const diffMin = Math.floor(diffSec / 60);\n  const diffHour = Math.floor(diffMin / 60);\n  const diffDay = Math.floor(diffHour / 24);\n  // Usar média de dias por mês mais próxima da realidade para não arredondar cedo demais para 1 ano\n  const diffMonth = Math.floor(diffDay / 30.4375); // 365 / 12\n  const diffYear = Math.floor(diffDay / 365);\n\n  const texts = RELATIVE_TEXTS[locale];\n\n  // Regras especiais por idioma (mais naturais)\n  if (diffSec < 10) {\n    if (locale === 'pt-BR') return 'agora mesmo';\n    if (locale === 'en-US') return 'just now';\n    if (locale === 'es-ES') return 'ahora mismo';\n  }\n\n  if (diffSec < 60) return texts.now;\n  if (diffMin < 60) return texts.minute(diffMin);\n  if (diffHour < 24) return texts.hour(diffHour);\n\n  // Dias específicos\n  if (diffDay === 1) {\n    if (locale === 'pt-BR') return 'ontem';\n    if (locale === 'en-US') return 'yesterday';\n    if (locale === 'es-ES') return 'ayer';\n  }\n\n  if (diffDay === 2) {\n    if (locale === 'pt-BR') return 'anteontem';\n    if (locale === 'en-US') return 'the day before yesterday';\n    if (locale === 'es-ES') return 'anteayer';\n  }\n\n  if (diffDay < 30) return texts.day(diffDay);\n  if (diffMonth < 12) return texts.month(diffMonth);\n  return texts.year(diffYear);\n}\n\n/**\n * Converte data para ISO string\n *\n * @param date - Data\n * @returns String ISO\n */\nexport function toISOString(date: Date): string {\n  return date.toISOString();\n}\n\n/**\n * Verifica se data é válida\n *\n * @param date - Data para validar\n * @returns true se válida\n */\nexport function isValidDate(date: unknown): date is Date {\n  return date instanceof Date && !isNaN(date.getTime());\n}\n"]}