{"version":3,"sources":["../../src/types.ts","../../src/number/index.ts"],"names":[],"mappings":";AA0BO,IAAM,cAAA,GAAyB,OAAA;AAK/B,IAAM,YAAA,GAAuC;AAAA,EAClD,OAAA,EAAS,KAAA;AAAA,EACT,OAAA,EAAS,KAAA;AAAA,EACT,OAAA,EAAS;AACX,CAAA;;;ACTO,SAAS,cAAA,CACd,KAAA,EACA,MAAA,GAAiB,cAAA,EACjB,OAAA,EACQ;AACR,EAAA,MAAM,QAAA,GAAW,aAAa,MAAM,CAAA;AACpC,EAAA,OAAO,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ;AAAA,IACnC,KAAA,EAAO,UAAA;AAAA,IACP,QAAA;AAAA,IACA,GAAG;AAAA,GACJ,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA;AACjB;AAeO,SAAS,aAAA,CACd,KAAA,EACA,QAAA,GAAW,CAAA,EACX,gBAAgB,KAAA,EACR;AACR,EAAA,OAAO,IAAI,IAAA,CAAK,YAAA,CAAa,OAAA,EAAS;AAAA,IACpC,KAAA,EAAO,SAAA;AAAA,IACP,qBAAA,EAAuB,QAAA;AAAA,IACvB,qBAAA,EAAuB;AAAA,GACxB,CAAA,CAAE,MAAA,CAAO,aAAA,GAAgB,KAAA,GAAQ,MAAM,KAAK,CAAA;AAC/C;AAcO,SAAS,YAAA,CAAa,KAAA,EAAe,QAAA,GAAW,CAAA,EAAG,SAAiB,cAAA,EAAwB;AACjG,EAAA,OAAO,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ;AAAA,IACnC,qBAAA,EAAuB,QAAA;AAAA,IACvB,qBAAA,EAAuB;AAAA,GACxB,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA;AACjB;AAcO,SAAS,aAAA,CAAc,KAAA,EAAe,QAAA,GAAW,CAAA,EAAG,SAAiB,cAAA,EAAwB;AAClG,EAAA,OAAO,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ;AAAA,IACnC,QAAA,EAAU,SAAA;AAAA,IACV,cAAA,EAAgB,OAAA;AAAA,IAChB,qBAAA,EAAuB,QAAA;AAAA,IACvB,qBAAA,EAAuB;AAAA,GACxB,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA;AACjB;AAYO,SAAS,cAAc,QAAA,EAA0B;AACtD,EAAA,MAAM,OAAA,GAAU,QAAA,CACb,OAAA,CAAQ,SAAA,EAAW,EAAE,CAAA,CACrB,OAAA,CAAQ,KAAA,EAAO,EAAE,CAAA,CACjB,OAAA,CAAQ,GAAA,EAAK,GAAG,CAAA;AACnB,EAAA,OAAO,WAAW,OAAO,CAAA;AAC3B;AAYO,SAAS,KAAA,CAAM,KAAA,EAAe,QAAA,GAAW,CAAA,EAAW;AACzD,EAAA,MAAM,MAAA,GAAS,IAAA,CAAK,GAAA,CAAI,EAAA,EAAI,QAAQ,CAAA;AACpC,EAAA,OAAO,IAAA,CAAK,KAAA,CAAM,KAAA,GAAQ,MAAM,CAAA,GAAI,MAAA;AACtC;AAcO,SAAS,KAAA,CAAM,KAAA,EAAe,GAAA,EAAa,GAAA,EAAqB;AACrE,EAAA,OAAO,KAAK,GAAA,CAAI,IAAA,CAAK,IAAI,KAAA,EAAO,GAAG,GAAG,GAAG,CAAA;AAC3C","file":"index.mjs","sourcesContent":["/**\r\n * Types & Constants\r\n *\r\n * Tipos e constantes compartilhadas entre módulos.\r\n *\r\n * @module @rainersoft/utils/types\r\n * @author Rainer Teixeira\r\n */\r\n\r\n/**\r\n * Idiomas suportados\r\n */\r\nexport type Locale = 'pt-BR' | 'en-US' | 'es-ES';\r\n\r\n/**\r\n * Configuração de localização\r\n */\r\nexport interface LocaleConfig {\r\n  locale: Locale;\r\n  currency?: string;\r\n  dateFormat?: 'short' | 'long' | 'full';\r\n}\r\n\r\n/**\r\n * Locale padrão\r\n */\r\nexport const DEFAULT_LOCALE: Locale = 'pt-BR';\r\n\r\n/**\r\n * Mapeamento de moedas por locale\r\n */\r\nexport const CURRENCY_MAP: Record<Locale, string> = {\r\n  'pt-BR': 'BRL',\r\n  'en-US': 'USD',\r\n  'es-ES': 'EUR',\r\n} as const;\r\n","/**\r\n * Number Utilities\r\n *\r\n * Utilitários para formatação de números, moedas e percentuais.\r\n * Suporte para múltiplos idiomas: pt-BR, en-US, es-ES.\r\n *\r\n * @module @rainersoft/utils/number\r\n * @author Rainer Teixeira\r\n */\r\n\r\nimport type { Locale } from '../types';\r\nimport { DEFAULT_LOCALE, CURRENCY_MAP } from '../types';\r\n\r\n/**\r\n * Formata número como moeda com suporte a idiomas\r\n *\r\n * @param value - Valor numérico\r\n * @param locale - Idioma (padrão: 'pt-BR')\r\n * @param options - Opções de formatação\r\n * @returns Valor formatado\r\n *\r\n * @example\r\n * formatCurrency(1234.56) // 'R$ 1.234,56' (pt-BR)\r\n * formatCurrency(1234.56, 'en-US') // '$1,234.56'\r\n * formatCurrency(1234.56, 'es-ES') // '1.234,56 €'\r\n */\r\nexport function formatCurrency(\r\n  value: number,\r\n  locale: Locale = DEFAULT_LOCALE,\r\n  options?: Intl.NumberFormatOptions\r\n): string {\r\n  const currency = CURRENCY_MAP[locale];\r\n  return new Intl.NumberFormat(locale, {\r\n    style: 'currency',\r\n    currency,\r\n    ...options,\r\n  }).format(value);\r\n}\r\n\r\n/**\r\n * Formata número como percentual\r\n *\r\n * @param value - Valor entre 0 e 1 (ou 0 e 100 se usePercentage=true)\r\n * @param decimals - Casas decimais (padrão: 0)\r\n * @param usePercentage - Se true, espera valor 0-100 (padrão: false)\r\n * @returns Percentual formatado\r\n *\r\n * @example\r\n * formatPercent(0.1234) // '12%'\r\n * formatPercent(0.1234, 2) // '12,34%'\r\n * formatPercent(12.34, 2, true) // '12,34%'\r\n */\r\nexport function formatPercent(\r\n  value: number,\r\n  decimals = 0,\r\n  usePercentage = false\r\n): string {\r\n  return new Intl.NumberFormat('pt-BR', {\r\n    style: 'percent',\r\n    minimumFractionDigits: decimals,\r\n    maximumFractionDigits: decimals,\r\n  }).format(usePercentage ? value / 100 : value);\r\n}\r\n\r\n/**\r\n * Formata número com separadores de milhar\r\n *\r\n * @param value - Valor numérico\r\n * @param decimals - Casas decimais (padrão: 0)\r\n * @param locale - Idioma (padrão: 'pt-BR')\r\n * @returns Número formatado\r\n *\r\n * @example\r\n * formatNumber(1234567) // '1.234.567' (pt-BR)\r\n * formatNumber(1234567, 0, 'en-US') // '1,234,567'\r\n */\r\nexport function formatNumber(value: number, decimals = 0, locale: Locale = DEFAULT_LOCALE): string {\r\n  return new Intl.NumberFormat(locale, {\r\n    minimumFractionDigits: decimals,\r\n    maximumFractionDigits: decimals,\r\n  }).format(value);\r\n}\r\n\r\n/**\r\n * Formata número de forma compacta (1K, 1M, 1B)\r\n *\r\n * @param value - Valor numérico\r\n * @param decimals - Casas decimais (padrão: 1)\r\n * @param locale - Idioma (padrão: 'pt-BR')\r\n * @returns Número compacto\r\n *\r\n * @example\r\n * formatCompact(1234) // '1,2 mil' (pt-BR)\r\n * formatCompact(1234567, 1, 'en-US') // '1.2M'\r\n */\r\nexport function formatCompact(value: number, decimals = 1, locale: Locale = DEFAULT_LOCALE): string {\r\n  return new Intl.NumberFormat(locale, {\r\n    notation: 'compact',\r\n    compactDisplay: 'short',\r\n    minimumFractionDigits: decimals,\r\n    maximumFractionDigits: decimals,\r\n  }).format(value);\r\n}\r\n\r\n/**\r\n * Converte string de moeda para número\r\n *\r\n * @param currency - String de moeda (ex: 'R$ 1.234,56')\r\n * @returns Valor numérico\r\n *\r\n * @example\r\n * parseCurrency('R$ 1.234,56') // 1234.56\r\n * parseCurrency('1.234,56') // 1234.56\r\n */\r\nexport function parseCurrency(currency: string): number {\r\n  const cleaned = currency\r\n    .replace(/[R$\\s]/g, '')\r\n    .replace(/\\./g, '')\r\n    .replace(',', '.');\r\n  return parseFloat(cleaned);\r\n}\r\n\r\n/**\r\n * Arredonda número para casas decimais\r\n *\r\n * @param value - Valor numérico\r\n * @param decimals - Casas decimais\r\n * @returns Valor arredondado\r\n *\r\n * @example\r\n * round(1.2345, 2) // 1.23\r\n */\r\nexport function round(value: number, decimals = 2): number {\r\n  const factor = Math.pow(10, decimals);\r\n  return Math.round(value * factor) / factor;\r\n}\r\n\r\n/**\r\n * Clamp - limita número entre min e max\r\n *\r\n * @param value - Valor\r\n * @param min - Mínimo\r\n * @param max - Máximo\r\n * @returns Valor limitado\r\n *\r\n * @example\r\n * clamp(150, 0, 100) // 100\r\n * clamp(-10, 0, 100) // 0\r\n */\r\nexport function clamp(value: number, min: number, max: number): number {\r\n  return Math.min(Math.max(value, min), max);\r\n}\r\n"]}